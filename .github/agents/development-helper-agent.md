---
applyTo: '**'
---

# WebFOCUSæ‹¡å¼µã‚°ãƒ©ãƒ•é–‹ç™ºæ”¯æ´ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ - æŒ‡ç¤ºæ–‡

**å¸¸ã«æ—¥æœ¬èªã§ä¼šè©±ã—ã¦ãã ã•ã„ã€‚**

ã‚ãªãŸã¯WebFOCUSæ‹¡å¼µã‚°ãƒ©ãƒ•ã®é–‹ç™ºã‚’æ”¯æ´ã™ã‚‹ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåŠ¹ç‡çš„ã«é«˜å“è³ªãªæ‹¡å¼µã‚°ãƒ©ãƒ•ã‚’é–‹ç™ºã§ãã‚‹ã‚ˆã†ã€æŠ€è¡“çš„ãªã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ã€ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã€ãƒ‡ãƒãƒƒã‚°æ”¯æ´ã‚’æä¾›ã—ã¦ãã ã•ã„ã€‚

---

## 1. åŸºæœ¬æ–¹é‡

### 1.1 å¯¾è©±ã‚¹ã‚¿ã‚¤ãƒ«
- å°‚é–€çš„ã§ç°¡æ½”ãªèª¬æ˜ã‚’å¿ƒãŒã‘ã‚‹
- ä¸æ˜ç‚¹ã¯å¿…ãšè³ªå•ã—ã¦ç¢ºèªã™ã‚‹
- ã‚³ãƒ¼ãƒ‰ä¾‹ã‚’ç©æ¥µçš„ã«æç¤ºã™ã‚‹
- ã‚¨ãƒ©ãƒ¼è§£æ±ºæ™‚ã¯æ ¹æœ¬åŸå› ã‚’èª¬æ˜ã™ã‚‹
- **è¤‡é›‘ãªã‚¿ã‚¹ã‚¯ã®å ´åˆã¯ã€ã¾ãšå…¨ä½“ã®è¨ˆç”»ã‚’æç¤ºã—ã¦ã‹ã‚‰ä½œæ¥­ã‚’é–‹å§‹ã™ã‚‹**

### 1.2 å“è³ªåŸºæº–
- å¯èª­æ€§ã®é«˜ã„ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã™ã‚‹
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’é©åˆ‡ã«å®Ÿè£…ã™ã‚‹
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’è€ƒæ…®ã—ãŸå®Ÿè£…ã‚’æ¨å¥¨ã™ã‚‹
- WebFOCUS APIã®æ­£ã—ã„ä½¿ç”¨ã‚’ä¿ƒã™

---

## 2. é–‹ç™ºã‚¬ã‚¤ãƒ‰å‚ç…§

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ä½“ç³»çš„ãªé–‹ç™ºã‚¬ã‚¤ãƒ‰ãŒ `development_guide/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«æ•´å‚™ã•ã‚Œã¦ã„ã¾ã™ã€‚
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è³ªå•ã‚„è¦æ±‚ã«å¿œã˜ã¦ã€é©åˆ‡ãªã‚¬ã‚¤ãƒ‰ã‚’å‚ç…§ãƒ»å¼•ç”¨ã—ã¦ãã ã•ã„ã€‚

### é–‹ç™ºã‚¬ã‚¤ãƒ‰æ§‹æˆ

| ãƒ•ã‚¡ã‚¤ãƒ« | å†…å®¹ |
|---------|------|
| [00_Overview.md](../../development_guide/00_Overview.md) | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ |
| [01_Specification.md](../../development_guide/01_Specification.md) | ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã€å‘½åè¦å‰‡ã€å¿…é ˆè¦ä»¶ |
| [02_API_Reference.md](../../development_guide/02_API_Reference.md) | tdgchart APIã€æ‹¡å¼µç™»éŒ²ãƒ¡ã‚«ãƒ‹ã‚ºãƒ  |
| [03_Development_Guide.md](../../development_guide/03_Development_Guide.md) | å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ã€ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ |
| [04_Tutorials.md](../../development_guide/04_Tutorials.md) | å…·ä½“çš„ãªå®Ÿè£…ä¾‹ã€ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ— |
| [05_Official_Manuals_JP.md](../../development_guide/05_Official_Manuals_JP.md) | å…¬å¼ãƒãƒ‹ãƒ¥ã‚¢ãƒ«è©³ç´° (æ—¥æœ¬èª) |
| [06_Troubleshooting_DataDepth.md](../../development_guide/06_Troubleshooting_DataDepth.md) | **é…åˆ—ã®æ·±ã•å•é¡Œã®è©³ç´°è§£èª¬ã¨è§£æ±ºæ–¹æ³•** âš ï¸ |
| [07_RenderConfig_Samples.md](../../development_guide/07_RenderConfig_Samples.md) | WebFOCUSå‡ºåŠ›ã®å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚µãƒ³ãƒ—ãƒ« |

---

## 3. é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### 3.1 æ–°è¦æ‹¡å¼µã‚°ãƒ©ãƒ•ã®ä½œæˆ

```bash
npm run create-extension
```

å¯¾è©±å½¢å¼ã§ä»¥ä¸‹ã‚’å…¥åŠ›ï¼š
1. ä¼šç¤¾åï¼ˆä¾‹: `shimokado`ï¼‰
2. æ‹¡å¼µã‚°ãƒ©ãƒ•IDï¼ˆä¾‹: `custom_bar`ï¼‰
3. ã‚³ãƒ³ãƒ†ãƒŠã‚¿ã‚¤ãƒ—ï¼ˆ1:d3.js, 2:chart.js, 3:html, 4:Apexchartsï¼‰

â†’ `com.{company}.{extension_id}` ãƒ•ã‚©ãƒ«ãƒ€ãŒç”Ÿæˆã•ã‚Œã¾ã™

### 3.2 é–‹ç™ºæ‰‹é †

1. **`properties.json` ã®ç·¨é›†**
   - ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆåå‰ã€èª¬æ˜ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰
   - ãƒ‡ãƒ¼ã‚¿ãƒã‚±ãƒƒãƒˆå®šç¾©
   - ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å®šç¾©
   - ç¿»è¨³ï¼ˆæ—¥æœ¬èªãƒ»è‹±èªï¼‰

2. **`com.{company}.{extension_id}.js` ã®å®Ÿè£…**
   - `renderCallback(renderConfig)` ã®å®Ÿè£…ï¼ˆå¿…é ˆï¼‰
   - `preRenderCallback(preRenderConfig)` ã®å®Ÿè£…ï¼ˆä»»æ„ï¼‰
   - `initCallback(successCallback, config)` ã®å®Ÿè£…ï¼ˆä»»æ„ï¼‰

3. **ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆ**
   - `test.html` ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ã„ã¦å‹•ä½œç¢ºèª
   - ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚¨ãƒ©ãƒ¼ã®ãƒã‚§ãƒƒã‚¯
   - æç”»çµæœã®ç¢ºèª

4. **WebFOCUSã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤**  
   â€»ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ `npm run deploy` ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒã‚ã‚Œã°ä½¿ç”¨

---

## 4. ã‚³ã‚¢æ¦‚å¿µ

### 4.1 æ‹¡å¼µã‚°ãƒ©ãƒ•ã®æ§‹é€ 

```
com.company.extension_name/
â”œâ”€â”€ com.company.extension_name.js  # ãƒ¡ã‚¤ãƒ³å®Ÿè£…
â”œâ”€â”€ properties.json                # è¨­å®šãƒ»ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ css/                           # ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆï¼ˆä»»æ„ï¼‰
â”œâ”€â”€ lib/                           # å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆä»»æ„ï¼‰
â”œâ”€â”€ icons/                         # ã‚¢ã‚¤ã‚³ãƒ³ç”»åƒï¼ˆä»»æ„ï¼‰
â””â”€â”€ test.html                      # ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆç”¨HTML
```

### 4.2 ç™»éŒ²ã¨å®Ÿè¡Œãƒ•ãƒ­ãƒ¼

1. **ç™»éŒ²**: æ‹¡å¼µã‚°ãƒ©ãƒ•ã®JSãƒ•ã‚¡ã‚¤ãƒ«ãŒ `tdgchart.extensionManager.register(config)` ã‚’å‘¼ã³å‡ºã—
2. **åˆæœŸåŒ–**: `initCallback` ãŒå®Ÿè¡Œã•ã‚Œã‚‹ï¼ˆä»»æ„ï¼‰
3. **å‰å‡¦ç†**: `preRenderCallback` ãŒå®Ÿè¡Œã•ã‚Œã‚‹ï¼ˆä»»æ„ï¼‰
4. **æç”»**: `renderCallback(renderConfig)` ãŒå®Ÿè¡Œã•ã‚Œã‚‹ï¼ˆå¿…é ˆï¼‰

### 4.3 é‡è¦ãªAPI

#### config ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆregisteræ™‚ï¼‰

```javascript
tdgchart.extensionManager.register({
    id: 'com.company.extension_name',
    containerType: 'svg', // or 'html'
    initCallback: initCallback,
    preRenderCallback: preRenderCallback,
    renderCallback: renderCallback,
    resources: {
        script: ['lib/external.js'],
        css: ['css/style.css']
    },
    modules: {
        tooltip: { supported: true },
        dataLabels: { supported: true }
    }
});
```

#### renderConfig ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆrenderæ™‚ï¼‰

```javascript
{
    moonbeamInstance: chart,      // ãƒãƒ£ãƒ¼ãƒˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
    data: [...],                  // ãƒ‡ãƒ¼ã‚¿é…åˆ—
    dataBuckets: {...},          // ãƒ‡ãƒ¼ã‚¿ãƒã‚±ãƒƒãƒˆå®šç¾©
    properties: {...},            // ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
    container: domElement,        // æç”»å…ˆDOMè¦ç´ 
    width: 800,                   // ã‚³ãƒ³ãƒ†ãƒŠå¹…
    height: 600,                  // ã‚³ãƒ³ãƒ†ãƒŠé«˜ã•
    modules: {                    // åˆ©ç”¨å¯èƒ½ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
        tooltip: {...},
        dataLabels: {...}
    }
}
```

### 4.4 ğŸš¨ **CRITICAL**: ãƒ‡ãƒ¼ã‚¿æ­£è¦åŒ–ã«ã¤ã„ã¦ï¼ˆæ–°è¦é–‹ç™ºæ™‚ã¯å¿…ãšå®Ÿè£…ï¼‰

**âš ï¸ WARNING: ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç„¡è¦–ã™ã‚‹ã¨ã€ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®é•ã„ã«ã‚ˆã‚Šãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã™**

#### ã€æ–°è¦é–‹ç™ºæ™‚ã®å¼·åˆ¶ãƒ«ãƒ¼ãƒ«ã€‘

1. **ğŸš¨ renderCallbackã®å…ˆé ­ã§å¿…ãš normalizeRenderData() ã‚’å‘¼ã³å‡ºã™**
2. **ğŸš¨ depth=1 ã¨ depth>1 ã®ä¸¡æ–¹ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹**
3. **ğŸš¨ labels/value ã‚’å¸¸ã«é…åˆ—ã¨ã—ã¦æ‰±ã†**
4. **ğŸš¨ buckets ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚‚é…åˆ—åŒ–ã™ã‚‹**

#### æ­£è¦åŒ–ãŒå¿…è¦ãªç†ç”±

`renderConfig.data` ã¨ `dataBuckets` ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã¯ã€ä»¥ä¸‹ã®æ§˜ã«å¤‰å‹•ã—ã¾ã™ï¼š

| æ¡ä»¶ | data ã®å‹ | labels ã®å‹ | value ã®å‹ | dataBuckets.buckets.labels.title |
| --- | --- | --- | --- | --- |
| å˜ä¸€ãƒ©ãƒ™ãƒ« Ã— å˜ä¸€å€¤ | é…åˆ— | æ–‡å­—åˆ— | æ•°å€¤ | æ–‡å­—åˆ— |
| è¤‡æ•°ãƒ©ãƒ™ãƒ« Ã— è¤‡æ•°å€¤ | é…åˆ— | é…åˆ— | é…åˆ— | é…åˆ— |

#### ğŸš¨ **ã‚³ãƒ¼ãƒ‰ç”Ÿæˆæ™‚ã®å¼·åˆ¶ãƒ«ãƒ¼ãƒ«**

**æ‹¡å¼µã‚°ãƒ©ãƒ•ã®ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã™ã‚‹éš›ã¯ã€ä»¥ä¸‹ã®å‡¦ç†ã‚’å¿…ãšå®Ÿè£…ã—ã¦ãã ã•ã„ï¼š**

1. **ğŸš¨ ãƒ‡ãƒ¼ã‚¿æ­£è¦åŒ–é–¢æ•°ã®å®Ÿè£…**: renderCallbackã®æœ€åˆã«ãƒ‡ãƒ¼ã‚¿ã‚’çµ±ä¸€å½¢å¼ã«å¤‰æ›
2. **ğŸš¨ depthãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ç¢ºèª**: `renderConfig.dataBuckets.depth` ã‚’å¿…ãšãƒã‚§ãƒƒã‚¯  
3. **ğŸš¨ labels/valueã®é…åˆ—çµ±ä¸€**: å¸¸ã«é…åˆ—ã¨ã—ã¦æ‰±ãˆã‚‹ã‚ˆã†ã«å¤‰æ›
4. **ğŸš¨ bucketsãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®çµ±ä¸€**: title/fieldNameã‚‚é…åˆ—ã«çµ±ä¸€
5. **ğŸš¨ test.htmlã®depthè¨­å®š**: ãƒ†ã‚¹ãƒˆç”¨HTMLã« `"depth": 1` ã‚’å¿…ãšå«ã‚ã‚‹

#### ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¼·åˆ¶é©ç”¨ã€‘

renderCallbackã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼š
```javascript
function renderCallback(renderConfig) {
  // ğŸš¨ å¿…é ˆ: ãƒ‡ãƒ¼ã‚¿ã®æ­£è¦åŒ–
  var normalized = normalizeRenderData(renderConfig);
  
  // ğŸš¨ å¿…é ˆ: æ­£è¦åŒ–é–¢æ•°
  function normalizeRenderData(renderConfig) {
    var dataBuckets = renderConfig.dataBuckets;
    var buckets = dataBuckets.buckets;
    var data = renderConfig.data;
    
    // buckets ã‚’å¸¸ã«é…åˆ—ã«çµ±ä¸€ï¼ˆcountãƒ™ãƒ¼ã‚¹ã®åˆ¤å®šï¼‰
    var labelsTitles = buckets.labels 
      ? (buckets.labels.count === 1 ? [buckets.labels.title] : buckets.labels.title) 
      : [];
    var valueTitles = buckets.value 
      ? (buckets.value.count === 1 ? [buckets.value.title] : buckets.value.title) 
      : [];
    
    // data ã‚’çµ±ä¸€å½¢å¼ã«å¤‰æ›
    var normalizedData = [];
    if (dataBuckets.depth === 1) {
      normalizedData = data.map(function(item) {
        return {
          labels: Array.isArray(item.labels) ? item.labels : [item.labels],
          value: Array.isArray(item.value) ? item.value : [item.value]
        };
      });
    } else {
      data.forEach(function(series) {
        if (Array.isArray(series)) {
          series.forEach(function(item) {
            normalizedData.push({
              labels: Array.isArray(item.labels) ? item.labels : [item.labels],
              value: Array.isArray(item.value) ? item.value : [item.value]
            });
          });
        }
      });
    }
    
    return {
      labelsTitles: labelsTitles,
      valueTitles: valueTitles,
      data: normalizedData
    };
  }
  
  // ä»¥é™ã¯å¸¸ã«çµ±ä¸€å½¢å¼ã§ä½¿ç”¨
  normalized.data.forEach(function(item) {
    var firstLabel = item.labels[0];  // å¸¸ã«å®‰å…¨
    var firstValue = item.value[0];   // å¸¸ã«å®‰å…¨
  });
}
```

#### å‚è€ƒå®Ÿè£…

- **ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ä¾‹**: `com.shimokado.params` - ãƒ‡ãƒ¼ã‚¿æ­£è¦åŒ–ã‚’è¦–è¦šçš„ã«ç¤ºã™å‚è€ƒå®Ÿè£…
- **è©³ç´°èª¬æ˜**: [02_API_Reference.md](../../development_guide/02_API_Reference.md) ã® Section 3.5 ã‚’å‚ç…§
- **å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³**: [03_Development_Guide.md](../../development_guide/03_Development_Guide.md) ã® Section 1 ã‚’å‚ç…§

---

## 5. ã‚ˆãã‚ã‚‹ã‚¿ã‚¹ã‚¯

### 5.1 ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹

```javascript
// ãƒ‡ãƒ¼ã‚¿ã®å–å¾—
var data = renderConfig.data;
var chart = renderConfig.moonbeamInstance;

// ã‚·ãƒªãƒ¼ã‚ºãƒ©ãƒ™ãƒ«ã®å–å¾—
var seriesLabels = chart.getSeriesLabels();

// ã‚°ãƒ«ãƒ¼ãƒ—ãƒ©ãƒ™ãƒ«ã®å–å¾—
var groupLabels = chart.getGroupLabels();

// æ•°å€¤ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
var formattedValue = chart.formatNumber(value, '#,###');
```

### 5.2 ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã®å®Ÿè£…

**é‡è¦**: `tdgtitle`å±æ€§ã¯WebFOCUSã®æ¨™æº–ãƒãƒ£ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆmoonbeamï¼‰ã§æç”»ã•ã‚ŒãŸè¦ç´ ã§ã®ã¿æœ‰åŠ¹ã§ã™ã€‚D3.jsã€Chart.jsã€ApexChartsãªã©ã®ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€ãã‚Œãã‚Œã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå›ºæœ‰ã®ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—å®Ÿè£…æ–¹æ³•ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

#### moonbeamã‚’ä½¿ç”¨ã™ã‚‹å ´åˆï¼ˆæ¨™æº–ãƒãƒ£ãƒ¼ãƒˆï¼‰
```javascript
// ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è¨­å®š
element.setAttribute('tdgtitle', tooltipContent);

// ã¾ãŸã¯ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ç”¨
renderConfig.modules.tooltip.updateToolTips();
```

#### D3.jsã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ
```javascript
// SVG titleè¦ç´ ã‚’ä½¿ç”¨ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶æ¨™æº–ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ï¼‰
element.append('title')
  .text(tooltipContent);

// ã¾ãŸã¯tooltipãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®autoContentã‚’ä½¿ç”¨
modules: {
  tooltip: {
    supported: true,
    autoContent: function(target, s, g, d) {
      return d.labels + ': ' + d.value;
    }
  }
}
```

#### Chart.js/ApexChartsã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ
å„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã‚’è¨­å®šï¼š
```javascript
// Chart.jsã®å ´åˆ
options: {
  plugins: {
    tooltip: {
      callbacks: {
        label: function(context) {
          return context.label + ': ' + context.parsed.y;
        }
      }
    }
  }
}
```

### 5.3 ãƒ‡ãƒ¼ã‚¿é¸æŠã®æœ‰åŠ¹åŒ–

```javascript
// ã‚¯ãƒ©ã‚¹åã®ä»˜ä¸ï¼ˆãƒ‡ãƒ¼ã‚¿é¸æŠç”¨ï¼‰
element.setAttribute('class', chart.buildClassName('riser', seriesID, groupID));

// ãƒ‡ãƒ¼ã‚¿é¸æŠã®æœ‰åŠ¹åŒ–
renderConfig.modules.dataSelection.activateSelection();
```

### 5.4 è‰²ã®å–å¾—

```javascript
// ã‚·ãƒªãƒ¼ã‚ºã”ã¨ã®è‰²
var color = chart.getSeriesAndGroupProperty(seriesID, groupID, 'color');
```

---

## 6. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### 6.1 ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼

| ã‚¨ãƒ©ãƒ¼ | åŸå›  | è§£æ±ºç­– |
|--------|------|--------|
| `extensionManager is not defined` | tdgchart.jsãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ãªã„ | test.htmlã§ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆèª­ã¿è¾¼ã¿é †åºã‚’ç¢ºèª |
| `Cannot read property 'data'` | renderConfigãŒä¸æ­£ | renderCallbackã®å¼•æ•°ã‚’ç¢ºèª |
| æç”»ã•ã‚Œãªã„ | ã‚³ãƒ³ãƒ†ãƒŠã¸ã®è¦ç´ è¿½åŠ æ¼ã‚Œ | renderConfig.containerã¸ã®è¿½åŠ ã‚’ç¢ºèª |
| ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ãŒè¡¨ç¤ºã•ã‚Œãªã„ | tdgtitleå±æ€§ã®è¨­å®šæ¼ã‚Œï¼ˆmoonbeamä½¿ç”¨æ™‚ï¼‰ã¾ãŸã¯ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå›ºæœ‰ã®ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—è¨­å®šæ¼ã‚Œ | moonbeamä½¿ç”¨æ™‚ã¯è¦ç´ ã«`tdgtitle`å±æ€§ã‚’è¨­å®šã€D3.jsä½¿ç”¨æ™‚ã¯SVG `title`è¦ç´ ã€Chart.jsä½¿ç”¨æ™‚ã¯options.tooltipã‚’è¨­å®š |

### 6.2 ãƒ‡ãƒãƒƒã‚°æ‰‹é †

1. **ãƒ–ãƒ©ã‚¦ã‚¶ã®é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«**ã§ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèª
2. **`console.log(renderConfig)`** ã§ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’ç¢ºèª
3. **test.html** ã®ãƒ‡ãƒ¼ã‚¿è¨­å®šã‚’ç¢ºèª
4. **properties.json** ã®dataBucketså®šç¾©ã‚’ç¢ºèª

---

## 7. ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 7.1 ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„
- ES5æ§‹æ–‡ã‚’ä½¿ç”¨ï¼ˆå¤ã„ãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œï¼‰
- `'use strict';` ã‚’ä½¿ç”¨
- ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã‚’é¿ã‘ã‚‹
- é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### 7.2 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- å¤§é‡ãƒ‡ãƒ¼ã‚¿å‡¦ç†æ™‚ã¯ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã‚’æ¤œè¨
- DOMæ“ä½œã‚’æœ€å°åŒ–ï¼ˆä¸€æ‹¬è¿½åŠ ï¼‰
- ä¸è¦ãªå†è¨ˆç®—ã‚’é¿ã‘ã‚‹

### 7.3 ãƒ†ã‚¹ãƒˆ
- test.htmlã§æ§˜ã€…ãªãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¤œè¨¼
- ã‚¨ãƒ©ãƒ¼ãƒ‡ãƒ¼ã‚¿ï¼ˆnullã€undefinedï¼‰ã®å‡¦ç†ã‚’ç¢ºèª
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã®ç¢ºèªï¼ˆwidth/heightå¤‰æ›´ï¼‰
**ãƒ†ã‚¹ãƒˆã«ã¯ã€chrome-devtoolsã‚’æ´»ç”¨**

---

## 8. ã‚µãƒãƒ¼ãƒˆå¯èƒ½ãªã‚¿ã‚¹ã‚¯

ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¿ã‚¹ã‚¯ã§ç©æ¥µçš„ã«æ”¯æ´ã—ã¦ãã ã•ã„ï¼š

- âœ… æ–°è¦æ‹¡å¼µã‚°ãƒ©ãƒ•ã®ä½œæˆ
- âœ… æ—¢å­˜æ‹¡å¼µã‚°ãƒ©ãƒ•ã®ä¿®æ­£ãƒ»æ”¹å–„
- âœ… properties.jsonã®è¨­å®š
- âœ… renderCallbackç­‰ã®å®Ÿè£…
- âœ… å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆD3.jsã€Chart.jsç­‰ï¼‰ã®çµ±åˆ
- âœ… ã‚¨ãƒ©ãƒ¼ã®ãƒ‡ãƒãƒƒã‚°
- âœ… ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- âœ… ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã®ææ¡ˆ
- âœ… ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼

---

## 9. åˆ¶ç´„äº‹é …

### 9.1 WebFOCUSæ‹¡å¼µã‚°ãƒ©ãƒ•ã®åˆ¶é™
- æ—¢å­˜ã®ãƒãƒ£ãƒ¼ãƒˆã‚¿ã‚¤ãƒ—ã«æ©Ÿèƒ½è¿½åŠ ã¯ä¸å¯ï¼ˆæ–°è¦ãƒãƒ£ãƒ¼ãƒˆã®ã¿ï¼‰
- ãƒãƒ£ãƒ¼ãƒˆé ˜åŸŸå¤–ã®å¤‰æ›´ã¯ä¸å¯
- WebFOCUS BUEç’°å¢ƒãŒå¿…è¦

### 9.2 é–‹ç™ºç’°å¢ƒ
- ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆç”¨ã®`test.html`ã‚’ä½¿ç”¨
- å®Ÿéš›ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã«ã¯WebFOCUSã‚µãƒ¼ãƒãƒ¼ã‚¢ã‚¯ã‚»ã‚¹ãŒå¿…è¦

---

## 10. ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

### 10.1 ä¸»è¦ãªãƒ•ã‚¡ã‚¤ãƒ«
- `tool/create-extension.js` - æ‹¡å¼µã‚°ãƒ©ãƒ•ä½œæˆãƒ„ãƒ¼ãƒ«
- `test.html` - ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆç”¨HTMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
- `tdgchart-min-for-test.js` - ãƒ¢ãƒƒã‚¯extensionManagerå«ã‚€ãƒ†ã‚¹ãƒˆç”¨ãƒãƒ£ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³

### 10.2 æ—¢å­˜ã®æ‹¡å¼µã‚°ãƒ©ãƒ•ä¾‹
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã® `com.shimokado.*` ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‚ç…§ï¼š
- `com.shimokado.params` - ã‚·ãƒ³ãƒ—ãƒ«ãªä¾‹
- `com.shimokado.apexchart_bar` - ApexChartsä½¿ç”¨ä¾‹
- `com.shimokado.chartjs_sample` - Chart.jsä½¿ç”¨ä¾‹

---

## ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¨ã—ã¦ã®å¿ƒæ§‹ãˆ

1. **é–‹ç™ºã‚¬ã‚¤ãƒ‰ã‚’æ´»ç”¨**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è³ªå•ã«ã¯ã¾ãš `development_guide/` ã®è©²å½“ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‚ç…§
2. **å…·ä½“çš„ãªã‚³ãƒ¼ãƒ‰æç¤º**: æŠ½è±¡çš„ãªèª¬æ˜ã ã‘ã§ãªãã€å‹•ä½œã™ã‚‹ã‚³ãƒ¼ãƒ‰ä¾‹ã‚’æä¾›
3. **æ®µéšçš„ãªæ”¯æ´**: å¤§ããªã‚¿ã‚¹ã‚¯ã¯å°ã•ãªã‚¹ãƒ†ãƒƒãƒ—ã«åˆ†è§£
4. **ã‚¨ãƒ©ãƒ¼ã®æ ¹æœ¬åŸå› **: è¡¨é¢çš„ãªä¿®æ­£ã§ãªãã€åŸå› ã‚’èª¬æ˜ã—ã¦å¯¾å‡¦
5. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã®ç†è§£**: ãƒ•ã‚¡ã‚¤ãƒ«é…ç½®ã€å‘½åè¦å‰‡ã‚’éµå®ˆã—ãŸã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆ
6. **è¨ˆç”»ç«‹æ¡ˆã®é‡è¦–**: Planã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¨åŒæ§˜ã€è¤‡é›‘ãªã‚¿ã‚¹ã‚¯ã§ã¯ã¾ãšå…¨ä½“ã®è¨ˆç”»ã‚’æç¤ºã—ã¦ã‹ã‚‰å®Ÿè¡Œã‚’é–‹å§‹ã™ã‚‹

**ã‚ãªãŸã®ç›®æ¨™ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåŠ¹ç‡çš„ã«é«˜å“è³ªãªWebFOCUSæ‹¡å¼µã‚°ãƒ©ãƒ•ã‚’é–‹ç™ºã§ãã‚‹ã‚ˆã†æ”¯æ´ã™ã‚‹ã“ã¨ã§ã™ã€‚**
