# 01. WebFOCUS拡張グラフ入門

## 🎯 この章の目標

- WebFOCUS拡張グラフとは何かを理解する
- 開発環境の準備方法を学ぶ
- プロジェクト構造を把握する

## 📖 WebFOCUS拡張グラフとは

WebFOCUS拡張グラフ（HTML5 Extension Chart）は、WebFOCUSの標準チャート以外に、独自のグラフやビジュアライゼーションを追加できる機能です。

### 主な特徴

- **JavaScript + HTML5**: モダンなWeb技術で開発
- **高度なカスタマイズ**: 標準では実現できない表現が可能
- **データ連携**: WebFOCUSのデータと直接連携
- **再利用可能**: 一度作成すればチャートライブラリとして利用可能

### 利用シーン

- 特殊な業務要件に対応したチャート
- インタラクティブなダッシュボード
- リアルタイムデータの可視化
- 既存のWebライブラリの活用

## 🔧 開発環境の準備

### 必要なソフトウェア

1. **Node.js** (バージョン 14以上推奨)
2. **WebFOCUSサーバー** へのアクセス
3. **テキストエディタ** (VS Code推奨)
4. **Webブラウザ** (Chrome、Firefox等)

### プロジェクトの取得

```bash
# プロジェクトのクローン（またはダウンロード）
cd c:\dev\webfocus-extensions

# 依存関係のインストール
npm install
```

## 📁 プロジェクト構造の理解

```
webfocus-extensions/
├── package.json                    # NPMスクリプト定義
├── html5chart_extensions.json      # 拡張機能有効化設定
├── com.shimokado.*/                # 拡張機能モジュール群
│   ├── com.shimokado.*.js          # メインJavaScript
│   ├── properties.json             # 拡張機能設定
│   ├── test.html                   # ローカルテスト
│   ├── css/style.css              # スタイルシート
│   └── lib/                       # 外部ライブラリ
├── doc/                           # 開発ドキュメント
├── tool/                          # 開発ツール
└── tutorial/                      # このチュートリアル
```

### 重要ファイルの説明

#### 1. 拡張機能メインファイル（com.shimokado.*.js）
- 拡張機能のメインロジック
- コールバック関数の実装
- データ処理とレンダリング

#### 2. 設定ファイル（properties.json）
- 拡張機能のメタデータ
- データバケットの定義
- UI表示設定

#### 3. テストファイル（test.html）
- ローカル環境でのテスト
- デバッグとプレビュー

## 🚀 WebFOCUSでの使用方法

### 1. 拡張グラフの選択

WebFOCUSのチャート作成画面で：

```
グラフ > その他 > HTML5拡張 > 拡張機能名
```

例：「プロパティ表示（開発用）：WebFOCUSが拡張グラフを...」

### 2. データの設定

- **ラベル**: ディメンション項目をドロップ
- **値**: メジャー項目をドロップ
- **詳細**: 追加情報項目をドロップ（拡張機能による）

### 3. 実行と確認

チャートを実行すると、カスタム拡張機能によってレンダリングされます。

## 🔍 既存の拡張機能を確認

このプロジェクトには以下の拡張機能が含まれています：

### 学習用

- **com.shimokado.params**: データ構造の確認用（デバッグツール）
- **com.shimokado.simple_bar**: 基本的な棒グラフ
- **com.shimokado.card_simple**: シンプルなカード表示

### 実用型

- **com.shimokado.table_ver1/ver2**: 高機能テーブル
- **com.shimokado.card_dashboard**: ダッシュボード型カード
- **com.shimokado.zoomable_sunburst**: インタラクティブサンバースト

## 📝 次のステップ

環境準備ができたら、次は「02-data-understanding」に進んで、実際のデータ構造を理解しましょう。

---

**💡 ヒント**: 
- 初回学習では`com.shimokado.params`を使ってデータ構造を理解することから始めましょう
- 各拡張機能の`test.html`でローカルテストが可能です
- エラーが発生した場合は、ブラウザの開発者ツールでコンソールを確認してください